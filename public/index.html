<!doctype html>
<html>
<head>
    <title>Pixelr</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <nav class="navigation">
        <img class="logo" src="/css/logo.png" alt="logo"/>
        <h1>Pixelr</h1>
    </nav>
    <div id="main">
        <div class="inputs">
            <form>
                <input class="imgtitle" v-model="title" type="text" name="title" placeholder="title">
                <input class="imgdescription" v-model="description" type="text" name="description" placeholder="description">
                <input class="imgusername" v-model="username" type="text" name="username" placeholder="username">
                <input class="imgfile" @change="handleChange" type="file" name="file" accept="image/*">
                
                <button class="submit"  @click="handleClick" >Upload</button>
            </form>

            <div class="cards">
                <div class="container" v-for="info in gettingAllInfo"  @click="modalOpen(info.id)">
                    <img :src="info.url" class="images">
                    <p class="title">{{info.title}}  </p>
                </div>
            </div>

        </div>
        
        <first-component v-if="id" :id="id" @close="closeAll"></first-component>

    </div>

    <script id="template" type="text/x-template">
        <div class="component" @close="closeMe">
           
            <h2>{{title}}</h2>
            <img :src="url" class="popupImg">
            <h4>{{description}}</h4>
            <h4>{{created_at}} by {{username}}</h4>

            <div class="commentbox">
                <form>
                    <input v-model="user_name" type="text" name="username" placeholder="username">
                    <input v-model="user_comment" type="text" name="comment" placeholder="comment">
                    <button @click.prevent="postComments">submit</button>
                </form>
            </div>
            <div v-for="comment in comments">
                <p>{{comment.username}}: {{comment.comment}}</p>
                
            </div>

            
            <h5 @click="closeMe">close</h5>
        </div>

    </script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
